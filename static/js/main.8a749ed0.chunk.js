(this["webpackJsonpodin-bookv2"]=this["webpackJsonpodin-bookv2"]||[]).push([[0],[,,function(e,t,n){e.exports={profileContainer:"Profile_profileContainer__3lONb",container:"Profile_container__1Z5Lm",profileInfo:"Profile_profileInfo__3r2mI",placeholder:"Profile_placeholder__1ng1S",btn:"Profile_btn__12T0x",profileImg:"Profile_profileImg__19j_r",username:"Profile_username__IDPoA",pcContainer:"Profile_pcContainer__TH7ZW",commentUser:"Profile_commentUser__1w7Jq",postUser:"Profile_postUser__2Ndc3",avatar:"Profile_avatar__aV4u5",dash:"Profile_dash__3C9eX",postTitle:"Profile_postTitle__2KRlt",space:"Profile_space__VdEYV",timeSpan:"Profile_timeSpan__j9wYe",seenAll:"Profile_seenAll__2xfWC",feed:"Profile_feed__wbwMp",emptyFeed:"Profile_emptyFeed__2s5vs",postsHeading:"Profile_postsHeading__2KJVb",postContainer:"Profile_postContainer__2zO-4",pBody:"Profile_pBody__nb8wI",profileUser:"Profile_profileUser__xX4sA",noPosts:"Profile_noPosts__36zUD",kText:"Profile_kText__2V6ha"}},,,,,function(e,t,n){e.exports={profileContainer:"DisplayPosts_profileContainer__19D7h",container:"DisplayPosts_container__X_CPi",profileInfo:"DisplayPosts_profileInfo__3PM6C",placeholder:"DisplayPosts_placeholder__39NFZ",btn:"DisplayPosts_btn__17tXk",profileImg:"DisplayPosts_profileImg__2xHJZ",username:"DisplayPosts_username__1Tv9e",pcContainer:"DisplayPosts_pcContainer__q-kcj",commentUser:"DisplayPosts_commentUser__2fosA",postUser:"DisplayPosts_postUser__2wK9t",avatar:"DisplayPosts_avatar__3Wlmi",dash:"DisplayPosts_dash__2M_oy",postTitle:"DisplayPosts_postTitle__3XsmR",space:"DisplayPosts_space__HV0Ve",timeSpan:"DisplayPosts_timeSpan__3ftxC",seenAll:"DisplayPosts_seenAll__3Mvjn",emptyFeed:"DisplayPosts_emptyFeed__2Ka9v",postsHeading:"DisplayPosts_postsHeading___TiDB",postContainer:"DisplayPosts_postContainer__XT4m8",pBody:"DisplayPosts_pBody__QEpEj",profileUser:"DisplayPosts_profileUser__2c-MQ"}},,function(e,t,n){e.exports={heading:"SignUp_heading__RoGD1",formContainer:"SignUp_formContainer__2bcJj",loginForm:"SignUp_loginForm__1DoLd",loginInput:"SignUp_loginInput__28BFP",orSpan:"SignUp_orSpan__1rU25",formGroup:"SignUp_formGroup__3b3Fm",facebookBtn:"SignUp_facebookBtn__SdI-r",loginBtn:"SignUp_loginBtn__22cOm",innerFormContainer:"SignUp_innerFormContainer__V75Vw",loginLabel:"SignUp_loginLabel__3vaff",noAccountSpan:"SignUp_noAccountSpan__2FQTH",imageInput:"SignUp_imageInput__6dNvf"}},function(e,t,n){e.exports={userContainer:"UserList_userContainer__2KwFT",heading:"UserList_heading__1kA6H",closeModalBtn:"UserList_closeModalBtn__3dHDP",fr:"UserList_fr__3NnPp",btn:"UserList_btn__eDUJv",username:"UserList_username__3PzgQ",avatar:"UserList_avatar__1DMTk",btnContainer:"UserList_btnContainer__1Enb2",acceptBtn:"UserList_acceptBtn__1kP5T",declineBtn:"UserList_declineBtn__PTkUX",friend:"UserList_friend__2YriH"}},,function(e,t,n){e.exports={heading:"Login_heading__3J40v",formContainer:"Login_formContainer__1sShP",loginForm:"Login_loginForm__1Hg13",loginInput:"Login_loginInput__2W0-l",orSpan:"Login_orSpan__3yGuQ",formGroup:"Login_formGroup__33Zr4",facebookBtn:"Login_facebookBtn__2MRPp",loginBtn:"Login_loginBtn__JiEkY",innerFormContainer:"Login_innerFormContainer__1Ppf6",loginLabel:"Login_loginLabel__2oNBE",noAccountSpan:"Login_noAccountSpan__33f3U",signUp:"Login_signUp__1Bhdc"}},,,function(e,t,n){e.exports={btn:"ActionBar_btn__1ayhK",actionBarContainer:"ActionBar_actionBarContainer__3PpfZ"}},,function(e,t,n){e.exports={postForm:"PostForm_postForm__3LFCr",heading:"PostForm_heading__ti6R9",formGroup:"PostForm_formGroup__uGBEh",closeModalBtn:"PostForm_closeModalBtn__2K1O1",btn:"PostForm_btn__3R71L",postInput:"PostForm_postInput__39jKb",fieldContainer:"PostForm_fieldContainer__2nGk_",inputLabel:"PostForm_inputLabel__3RAhG"}},,function(e,t,n){e.exports={btn:"Comments_btn__2eD6_",hide:"Comments_hide__2HOwB",show:"Comments_show__3wyN1",commentContainer:"Comments_commentContainer__1iM-Z",commentUser:"Comments_commentUser__2ctdQ",spinnerContainer:"Comments_spinnerContainer__3Doz_",username:"Comments_username__1nnUQ",text:"Comments_text__3Rsx5",commentAvatar:"Comments_commentAvatar__3yAkl",timeSpan:"Comments_timeSpan__3HzY6"}},,function(e,t,n){e.exports={likeContainer:"Like_likeContainer__3Wkj5",btn:"Like_btn__1nP-a",userLiked:"Like_userLiked__2Ri5N",regular:"Like_regular__36Cqs",showComments:"Like_showComments__2wtf3",likeUnlike:"Like_likeUnlike__15KGN"}},function(e,t,n){e.exports={commentForm:"CommentForm_commentForm__2BjNt",heading:"CommentForm_heading__YvqMq",formGroup:"CommentForm_formGroup__3DGZc",closeModalBtn:"CommentForm_closeModalBtn__2vWr9",btn:"CommentForm_btn__3IIzl",postInput:"CommentForm_postInput__LG4i7",fieldContainer:"CommentForm_fieldContainer__2LubG",cBodyLabel:"CommentForm_cBodyLabel__3G4Ql"}},function(e,t,n){e.exports={dropdownIcon:"Dropdown_dropdownIcon__3tERQ",dropdownItem:"Dropdown_dropdownItem__3M5t1",dropdownContainer:"Dropdown_dropdownContainer__1eEN7",itemsOuter:"Dropdown_itemsOuter__2_yjN",itemsInner:"Dropdown_itemsInner__2phzo",itemsInnerReady:"Dropdown_itemsInnerReady__2PnGO"}},function(e,t,n){e.exports={friendReqForm:"FriendRequestForm_friendReqForm__20q3-",heading:"FriendRequestForm_heading__nwOwp",formGroup:"FriendRequestForm_formGroup__1JUOd",closeModalBtn:"FriendRequestForm_closeModalBtn__1Uqcz",btn:"FriendRequestForm_btn__2I_AY",friendReqInput:"FriendRequestForm_friendReqInput__2Ogn2",usernameLabel:"FriendRequestForm_usernameLabel__13jsR"}},function(e,t,n){e.exports={fr:"GetFriendRequests_fr__2XLtL",btn:"GetFriendRequests_btn__1ED07",btnContainer:"GetFriendRequests_btnContainer__1idgK",acceptBtn:"GetFriendRequests_acceptBtn__20vBJ",declineBtn:"GetFriendRequests_declineBtn__NzWKe"}},,,function(e,t,n){e.exports={headerContainer:"Header_headerContainer__1YLYN",headerContainerSmall:"Header_headerContainerSmall__2i0Lx",heading:"Header_heading__sAf1D",headingSmall:"Header_headingSmall__3uOHz",subHeading:"Header_subHeading__bJC7w",contentContainer:"Header_contentContainer__3H4qC"}},,,,,,function(e,t,n){e.exports={frContainer:"FriendRequests_frContainer__OFaDB",frNumber:"FriendRequests_frNumber__39nvZ",viewFrs:"FriendRequests_viewFrs__146KL"}},function(e,t,n){e.exports={headerContainer:"LoginHeader_headerContainer__2HTuK",heading:"LoginHeader_heading__2IHyk",subHeading:"LoginHeader_subHeading__3BDnU",contentContainer:"LoginHeader_contentContainer__HHAX5"}},function(e,t,n){e.exports={friendReqForm:"ViewFriendRequest_friendReqForm__2jtQQ",heading:"ViewFriendRequest_heading__38M9I",formGroup:"ViewFriendRequest_formGroup__2WHOk",closeModalBtn:"ViewFriendRequest_closeModalBtn__6DkoB",friendReqInput:"ViewFriendRequest_friendReqInput__2vlb8"}},,,,,,function(e,t,n){e.exports={pageContainer:"Layout_pageContainer__2cIZA",changeOpacity:"Layout_changeOpacity__3Pp2n"}},function(e,t,n){e.exports={pageContainer:"LoginLayout_pageContainer__Cyrz9",changeOpacity:"LoginLayout_changeOpacity__1s_QV"}},,,,,,function(e,t,n){e.exports=n(60)},,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(31),c=n.n(r),i=n(4),s=n(28),l=n.n(s),u=n(34),m=n.n(u),d=n(6),p=function(e){var t=e.requests,n=Object(d.f)();return t[0]?o.a.createElement("div",{id:m.a.frContainer},o.a.createElement("div",{id:m.a.frNumber},t.length),o.a.createElement("button",{id:m.a.viewFrs,onClick:function(){return n.push("/fr-view")}},"Friend Requests")):null},f=n(15),_=n.n(f),h=n(1),g=n(20),b=function(){return"undefined"!==typeof window},E=function(){return b()&&window.sessionStorage.getItem("User")?JSON.parse(window.sessionStorage.getItem("User")):null},C=function(e){return b()?window.sessionStorage.setItem("User",JSON.stringify(e)):null},v=function(e){return b()?window.sessionStorage.setItem("Profile",JSON.stringify(e)):null},O=function(e){if(!b())return null;C(e),window.location.href="/dashboard"},j=Object(g.b)({name:"user",initialState:E(),reducers:{setUser:function(e,t){return t.payload},setFriendRequests:function(e,t){return e.user.friendRequests=t.payload}}}),y=function(e){return e.user},S=j.actions,N=S.setUser,w=S.setFriendRequests,P=j.reducer,F=Object(g.b)({name:"profile",initialState:b()&&window.sessionStorage.getItem("Profile")?JSON.parse(window.sessionStorage.getItem("Profile")):null,reducers:{setProfile:function(e,t){return t.payload}}}),k=function(e){return e.profile},L=F.actions.setProfile,x=F.reducer,U=function(){var e=Object(h.c)(y),t=Object(h.b)(),n=Object(d.f)();return Object(a.useEffect)((function(){fetch("http://localhost:3001/api/friend-request/".concat(e._id),{method:"GET",mode:"cors"}).then((function(e){return e.json()})).then((function(n){n?n[0]&&(console.log(n),t(w(n)),C(e)):console.log("no response")})).catch((function(e){console.log("catch",e),n.push("/error")}))}),[]),o.a.createElement("div",{id:_.a.actionBarContainer},o.a.createElement("button",{id:_.a.userListBtn,className:_.a.btn,onClick:function(){return n.push("/dashboard")}},"Dashboard"),o.a.createElement("button",{id:_.a.userListBtn,className:_.a.btn,onClick:function(){t(L(e)),v(e),n.push("/profile")}},"Your Profile"),o.a.createElement("button",{id:_.a.userListBtn,className:_.a.btn,onClick:function(){return n.push("/user-list")}},"User List"),o.a.createElement("button",{id:_.a.addFriendBtn,className:_.a.btn,onClick:function(){return n.push("/fr-send")}},"Add Friends"),o.a.createElement(p,{requests:e.friendRequests}),o.a.createElement("button",{className:_.a.btn,onClick:function(){return n.push("/post")}},"Write Post"),o.a.createElement("button",{id:_.a.logoutBtn,className:_.a.btn,onClick:function(){return function(){if(!b())return null;window.sessionStorage.clear(),window.location.href="/"}()}},"Logout"))},q=n(46),I=n(8),B=[{name:"Dashboard",href:"/dashboard"},{name:"Your Profile",href:"/profile"},{name:"Add Friends",href:"/fr-send"},{name:"User List",href:"/user-list"},{name:"Write Post",href:"/post"},{name:"Logout",href:"/logout"}],T=n(23),D=n.n(T),R=function(){var e=Object(a.useState)(!1),t=Object(i.a)(e,2),n=t[0],r=t[1];return o.a.createElement("div",{className:D.a.dropdownContainer,onMouseLeave:function(){r(!1)}},o.a.createElement("div",{onMouseOver:function(){r(!0)},id:D.a.dropdownIcon},"Dropdown"),o.a.createElement("div",{className:"".concat(D.a.itemsOuter," ").concat(n?D.a.itemsOuterReady:null)},o.a.createElement("div",{className:"".concat(D.a.itemsInner," ").concat(n?D.a.itemsInnerReady:null)},n?B.map((function(e,t){return setTimeout((function(){return o.a.createElement("div",{className:D.a.dropdownItem,key:t},o.a.createElement(I.b,{to:e.href},e.name))}),500)})):null)))},G=function(){var e=Object(q.useMediaQuery)({query:"(max-width: 740px)"});return o.a.createElement("div",{id:e?l.a.headerContainerSmall:l.a.headerContainer},o.a.createElement("div",{id:l.a.contentContainer},o.a.createElement("h1",{id:e?l.a.headingSmall:l.a.heading},"Odin-Book")),e?o.a.createElement(R,null):o.a.createElement(U,null))},H=n(42),A=n.n(H),M=function(){return o.a.createElement("div",null,"Hello, world!")},J=function(){return o.a.createElement("div",null,o.a.createElement(M,null))},Y=function(e){var t=e.children,n=Object(a.useState)(!1),r=Object(i.a)(n,2),c=r[0],s=r[1],l=Object(a.useState)(!1),u=Object(i.a)(l,2),m=u[0],d=u[1];return Object(a.useEffect)((function(){setTimeout((function(){s(!0)}),1e3)}),[]),Object(a.useEffect)((function(){setTimeout((function(){d(!0)}),1e3)}),[c]),c?o.a.createElement("div",{className:A.a.pageContainer,id:m?A.a.changeOpacity:null},o.a.createElement(G,null),o.a.createElement("main",null,t),o.a.createElement("footer",null,"\xa9 ",(new Date).getFullYear())):o.a.createElement(J,null)},V=n(5),W=n(7),K=n.n(W),Q=n(27),z=n.n(Q),X=n(21),Z=n.n(X),$=o.a.createContext(),ee=function(e){var t=e.children,n=Object(a.useState)([]),r=Object(i.a)(n,2),c=r[0],s=r[1];return o.a.createElement($.Provider,{value:{postId:c,setPost:function(e){return s(e)}}},t)},te=function(e){var t=e.count,n=e.post,r=Object(h.c)(y),c=Object(d.f)(),s=Object(a.useState)(t),l=Object(i.a)(s,2),u=l[0],m=l[1],p=Object(a.useState)(!1),f=Object(i.a)(p,2),_=f[0],g=f[1],b=Object(a.useContext)($),E=b.postId,C=b.setPost;Object(a.useEffect)((function(){fetch("http://localhost:3001/api/posts/user-like/".concat(r._id,"/").concat(n._id),{method:"GET",mode:"cors"}).then((function(e){return e.json()})).then((function(e){e?g(e):console.log("no posts to display")})).catch((function(e){console.log("catch initial",e),c.push("/error")}))}),[]);return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:Z.a.likeContainer},o.a.createElement("button",{className:"".concat(Z.a.btn," ").concat(Z.a.showComments),onClick:function(e){return function(e){"Show Comments"===e.target.textContent?C([].concat(Object(V.a)(E),[n._id])):"Hide Comments"===e.target.textContent&&C(E.filter((function(e,t){return e!==n._id})))}(e)}},E.includes(n._id)?"Hide Comments":"Show Comments"),o.a.createElement("button",{className:Z.a.btn,onClick:function(){C([].concat(Object(V.a)(E),[n._id])),c.push("/comment")}},"Comment"),o.a.createElement("button",{disabled:n.user._id===r._id,className:"".concat(Z.a.btn," ").concat(Z.a.likeUnlike),onClick:function(e){return function(e){e.preventDefault();var t=e.target.textContent,a={likeUnlike:t,likes:null,currentUser:r._id};a.likes="Like"===t?u+1:u-1,fetch("http://localhost:3001/api/posts/like/".concat(n._id),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){e&&"Like"===t?(console.log(e),m(e),g(!0)):(console.log(e),m(e),g(!1))})).catch((function(e){console.log("catch initial",e),c.push("/error")}))}(e)}},_?"Un-Like":"Like"),o.a.createElement("span",{className:_?Z.a.userLiked:Z.a.regular},u)))},ne=n(19),ae=n.n(ne),oe=function(e){var t=e.post,n=(Object(h.c)(k),Object(h.b)()),r=Object(d.f)(),c=Object(a.useContext)($),i=c.postId,s=(c.setPost,function(e){fetch("http://localhost:3001/api/profile/".concat(e),{method:"GET",mode:"cors"}).then((function(e){return e.json()})).then((function(e){e?(n(L(e)),v(e),r.push("/profile")):(console.log("error"),r.push("/error"))})).catch((function(e){console.log("catch",e),r.push("/error")}))});return o.a.createElement("div",{className:"".concat(ae.a.hide," ").concat(i.includes(t._id)?ae.a.show:null)},t.comments[0]?t.comments.map((function(e,t){return o.a.createElement("div",{className:ae.a.commentContainer,key:t},o.a.createElement("div",{className:"".concat(ae.a.space," ").concat(ae.a.text)},e.text),o.a.createElement("div",{className:ae.a.commentUser},o.a.createElement("img",{className:ae.a.commentAvatar,src:"data:image/jpeg;base64,"+btoa(String.fromCharCode.apply(String,Object(V.a)(new Uint8Array(e.user.avatar.data.data)))),onClick:function(e){s(e.target.nextElementSibling.textContent)}}),o.a.createElement("button",{className:ae.a.username,onClick:function(e){s(e.target.textContent)}},e.user.username),o.a.createElement("span",{className:ae.a.timeSpan},"(",z()(e.timestamp).format("L"),")")))})):o.a.createElement("div",{className:ae.a.commentContainer},"This post has not received any comments."))},re=function(){var e=Object(h.c)(y),t=Object(h.b)(),n=Object(d.f)(),r=Object(a.useState)([]),c=Object(i.a)(r,2),s=c[0],l=c[1],u=Object(a.useState)(!0),m=Object(i.a)(u,2),p=m[0],f=m[1];Object(a.useEffect)((function(){fetch("http://localhost:3001/api/posts/".concat(e._id),{method:"GET",mode:"cors"}).then((function(e){return e.json()})).then((function(e){e?(console.log(e),l(e)):console.log("no posts to display")})).catch((function(e){console.log("catch initial",e),n.push("/error")}))}),[]);var _=function(e){fetch("http://localhost:3001/api/profile/".concat(e),{method:"GET",mode:"cors"}).then((function(e){return e.json()})).then((function(e){e?(t(L(e)),v(e),n.push("/profile")):console.log("error")})).catch((function(e){console.log("catch profile",e),n.push("/error")}))};return window.onscroll=function(){p?window.innerHeight+window.pageYOffset>=document.documentElement.scrollHeight&&p&&s[0]&&fetch("http://localhost:3001/api/posts/more/".concat(e._id,"/").concat(s[s.length-1]._id),{method:"GET",mode:"cors"}).then((function(e){return e.json()})).then((function(e){e?e.hasMore>=10?l([].concat(Object(V.a)(s),Object(V.a)(e.additionalPosts))):e.additionalPosts[0]&&(l([].concat(Object(V.a)(s),Object(V.a)(e.additionalPosts))),f(!1)):(f(!1),console.log("no more"))})).catch((function(e){console.log("catch load func",e),n.push("/error")})):window.removeEventListener("scroll",void 0)},o.a.createElement("div",{id:K.a.profileContainer},o.a.createElement("div",{id:K.a.profileInfo}),o.a.createElement("div",{id:K.a.container},o.a.createElement("div",{id:K.a.postContainer},o.a.createElement("h1",{id:K.a.postsHeading},"Your Custom Feed:"),s[0]?s.map((function(e,t){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:K.a.pcContainer,key:t},o.a.createElement("div",{className:K.a.postContainer},o.a.createElement("h1",{className:"".concat(K.a.space," ").concat(K.a.postTitle)},e.title),o.a.createElement("div",{className:"".concat(K.a.pBody," ").concat(K.a.space)},e.text),o.a.createElement("div",{className:"".concat(K.a.postUser," ").concat(K.a.space)},o.a.createElement("img",{onClick:function(e){_(e.target.nextElementSibling.textContent)},id:K.a.avatar,src:"data:image/jpeg;base64,"+btoa(String.fromCharCode.apply(String,Object(V.a)(new Uint8Array(e.user.avatar.data.data))))}),o.a.createElement("button",{onClick:function(e){return _(e.target.textContent)},className:K.a.username},e.user.username),o.a.createElement("span",{className:K.a.timeSpan},"(",z()(e.timestamp).format("L"),")")),o.a.createElement(te,{count:e.likes.length,post:e}))),o.a.createElement(oe,{setPostsToDisplay:l,post:e}),t!==s.length-1||p?null:o.a.createElement("div",{id:K.a.seenAll},"You've seen them all!"))})):o.a.createElement("div",{id:K.a.noPosts},"Your feed is empty. Write posts or add friends to liven it up!."))),o.a.createElement("div",{id:K.a.placeholder}))},ce=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(re,null))},ie=function(){return o.a.createElement(Y,null,o.a.createElement(ce,null))},se=n(48),le=n(12),ue=n.n(le),me=function(){var e=Object(d.f)(),t=Object(a.useState)({username:null,password:null}),n=Object(i.a)(t,2),r=n[0],c=n[1],s=function(e){var t=Object(se.a)({},r);t[e.target.name]=e.target.value,c(t)};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{id:ue.a.formContainer},o.a.createElement("form",{id:ue.a.loginForm},o.a.createElement("h3",{id:ue.a.heading},"Sign In"),o.a.createElement("div",{id:ue.a.innerFormContainer},o.a.createElement("div",{className:ue.a.formGroup},o.a.createElement("label",{className:ue.a.loginLabel},"Username:"),o.a.createElement("input",{name:"username",onChange:s,type:"text",className:ue.a.loginInput})),o.a.createElement("div",{className:ue.a.formGroup},o.a.createElement("label",{className:ue.a.loginLabel},"Password:"),o.a.createElement("input",{name:"password",onChange:s,type:"password",className:ue.a.loginInput}))),o.a.createElement("button",{type:"submit",id:ue.a.loginBtn,onClick:function(t){t.preventDefault(),!function(e){var t=e.username,n=e.password;return!(!t||!n)}(r)?e.push("/error"):fetch("http://localhost:3001/api/login",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}).then((function(e){return e.json()})).then((function(e){console.log("login",e),e&&O(e)})).catch((function(t){console.log(t),e.push("/error")}))}},"Log In"))),o.a.createElement("span",{id:ue.a.noAccountSpan},"Don't have an account?"," ",o.a.createElement(I.b,{id:ue.a.signUp,to:"/signup"},"Sign Up")))},de=n(35),pe=n.n(de),fe=function(){return o.a.createElement("div",{id:pe.a.headerContainer},o.a.createElement("div",{id:pe.a.contentContainer},o.a.createElement("h1",{id:pe.a.heading},"Odin-Book")))},_e=n(43),he=n.n(_e),ge=function(e){var t=e.children,n=Object(a.useState)(!1),r=Object(i.a)(n,2),c=r[0],s=r[1],l=Object(a.useState)(!1),u=Object(i.a)(l,2),m=u[0],d=u[1];return Object(a.useEffect)((function(){setTimeout((function(){s(!0)}),1e3)}),[]),Object(a.useEffect)((function(){setTimeout((function(){d(!0)}),1e3)}),[c]),c?o.a.createElement("div",{className:he.a.pageContainer,id:m?he.a.changeOpacity:null},o.a.createElement(fe,null),o.a.createElement("main",null,t),o.a.createElement("footer",null,"\xa9 ",(new Date).getFullYear())):o.a.createElement(J,null)},be=function(){return o.a.createElement(ge,null,o.a.createElement(me,null))},Ee=n(9),Ce=n.n(Ee),ve=function(){var e=Object(d.f)();return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{id:Ce.a.formContainer},o.a.createElement("form",{onSubmit:function(t){return function(t){var n=new XMLHttpRequest;n.open("POST","http://localhost:3001/api/signup",!0),n.onload=function(){n.readyState===n.DONE&&200===n.status&&O(JSON.parse(n.response))},n.onerror=function(){e.push("/error")},n.send(new FormData(t.target)),t.preventDefault()}(t)},id:Ce.a.loginForm},o.a.createElement("h3",{id:Ce.a.heading},"Sign Up"),o.a.createElement("div",{id:Ce.a.innerFormContainer},o.a.createElement("div",{className:Ce.a.formGroup},o.a.createElement("label",{className:Ce.a.loginLabel},"Username:"),o.a.createElement("input",{name:"username",type:"text",className:Ce.a.loginInput})),o.a.createElement("div",{className:Ce.a.formGroup},o.a.createElement("label",{className:Ce.a.loginLabel},"Password:"),o.a.createElement("input",{name:"password",type:"password",className:Ce.a.loginInput})),o.a.createElement("div",{className:Ce.a.formGroup},o.a.createElement("label",{className:Ce.a.loginLabel},"Confirm Password:"),o.a.createElement("input",{name:"confirmPassword",type:"password",className:Ce.a.loginInput})),o.a.createElement("div",{className:Ce.a.formGroup},o.a.createElement("label",{className:Ce.a.loginLabel},"Avatar:"),o.a.createElement("input",{id:Ce.a.imageInput,name:"avatar",type:"file",accept:"image/png, image/jpeg"}))),o.a.createElement("button",{type:"submit",id:Ce.a.loginBtn},"Sign Up"))))},Oe=function(){return o.a.createElement(ge,null,o.a.createElement(ve,null))},je=n(36),ye=n.n(je),Se=n(25),Ne=n.n(Se),we=function(){var e=Object(h.c)(y),t=Object(h.b)(),n=Object(d.f)(),r=Object(a.useState)([]),c=Object(i.a)(r,2),s=c[0],l=c[1];return Object(a.useEffect)((function(){fetch("http://localhost:3001/api/friend-request/".concat(e._id),{method:"GET",mode:"cors"}).then((function(e){return e.json()})).then((function(e){e?(console.log(e),l(e)):console.log("no response")})).catch((function(e){console.log("catch",e),n.push("/error")}))}),[]),s[0]?s.map((function(a,r){return o.a.createElement("div",{className:Ne.a.fr,key:r},o.a.createElement("span",null,a.username),o.a.createElement("div",{className:Ne.a.btnContainer},o.a.createElement("button",{id:Ne.a.acceptBtn,className:Ne.a.btn,onClick:function(a){return function(a){a.preventDefault();var o={request:a.target.parentElement.previousElementSibling.textContent};fetch("http://localhost:3001/api/friend-request/".concat(e._id,"/accept"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then((function(e){return e.json()})).then((function(e){e?(console.log(e),t(N(e)),C(e)):(console.log("no response"),n.push("/error"))})).catch((function(e){console.log("catch",e),n.push("/error")}))}(a)}},"Accept"),o.a.createElement("button",{id:Ne.a.declineBtn,className:Ne.a.btn,onClick:function(a){return function(a){a.preventDefault();var o={request:a.target.parentElement.previousElementSibling.textContent};fetch("http://localhost:3001/api/friend-request/".concat(e._id,"/decline"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then((function(e){return e.json()})).then((function(e){e?(console.log(e),t(N(e)),C(e)):(console.log("no response"),n.push("/error"))})).catch((function(e){console.log("catch",e),n.push("/error")}))}(a)}},"Decline")))})):o.a.createElement("span",null,"There are no friend requests for you to accept at this time.")},Pe=function(){var e=Object(d.f)();return o.a.createElement("div",{id:ye.a.friendReqForm},o.a.createElement("button",{id:ye.a.closeModalBtn,onClick:function(){return e.push("/dashboard")}},"x"),o.a.createElement("h3",{id:ye.a.heading},"Friend Requests"),o.a.createElement(we,null))},Fe=function(){return o.a.createElement(Y,null,o.a.createElement(Pe,null))},ke=n(24),Le=n.n(ke),xe=function(){var e=Object(h.c)(y),t=Object(d.f)();return o.a.createElement("form",{id:Le.a.friendReqForm},o.a.createElement("button",{id:Le.a.closeModalBtn,onClick:function(){return t.push("/dashboard")}},"x"),o.a.createElement("h3",{id:Le.a.heading},"Friend Request"),o.a.createElement("div",{className:Le.a.formGroup},o.a.createElement("label",{id:Le.a.usernameLabel},"Username:"),o.a.createElement("input",{id:Le.a.friendReqInput,type:"text"})),o.a.createElement("button",{className:Le.a.btn,onClick:function(n){return function(n){n.preventDefault();var a={username:n.target.previousElementSibling.children[1].value,currentUser:e._id};fetch("http://localhost:3001/api/friend-request",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){e?(console.log(e),t.push("/dashboard")):(console.log("no response"),t.push("/error"))})).catch((function(e){console.log("catch",e),t.push("/error")}))}(n)}},"Send Request"))},Ue=function(){return o.a.createElement(Y,null,o.a.createElement(xe,null))},qe=n(17),Ie=n.n(qe),Be=function(){var e=Object(h.c)(y),t=Object(d.f)();return o.a.createElement("form",{id:Ie.a.postForm},o.a.createElement("button",{id:Ie.a.closeModalBtn,onClick:function(){return t.push("/dashboard")}},"x"),o.a.createElement("h3",{id:Ie.a.heading},"Write Post"),o.a.createElement("div",{id:Ie.a.fieldContainer},o.a.createElement("div",{className:Ie.a.formGroup},o.a.createElement("label",{className:Ie.a.inputLabel},"Title:"),o.a.createElement("input",{id:Ie.a.postInput,type:"text"})),o.a.createElement("div",{className:Ie.a.formGroup},o.a.createElement("label",{className:Ie.a.inputLabel},"Post:"),o.a.createElement("textarea",{id:Ie.a.postInput,type:"text"}))),o.a.createElement("button",{className:Ie.a.btn,onClick:function(n){return function(n){n.preventDefault();var a={title:n.target.previousElementSibling.children[0].children[1].value,text:n.target.previousElementSibling.children[1].children[1].value,user:e._id};fetch("http://localhost:3001/api/new-post",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){e?(console.log(e),t.push("/dashboard")):(console.log("no response"),t.push("/error"))})).catch((function(e){console.log("catch",e),t.push("/error")}))}(n)}},"Create Post"))},Te=function(){return o.a.createElement(Y,null,o.a.createElement(Be,null))},De=n(2),Re=n.n(De),Ge=function(){var e=Object(h.c)(y),t=Object(h.c)(k),n=Object(d.f)(),r=Object(h.b)(),c=Object(a.useState)(null),s=Object(i.a)(c,2),l=s[0],u=s[1],m=Object(a.useState)([]),p=Object(i.a)(m,2),f=p[0],_=p[1],g=Object(a.useState)(!0),b=Object(i.a)(g,2),E=b[0],C=b[1];Object(a.useEffect)((function(){fetch("http://localhost:3001/api/friend-request/friends/".concat(t.username),{method:"GET",mode:"cors"}).then((function(e){return e.json()})).then((function(t){t?t.friends.includes(e._id)?u("friends"):t.friendRequests.includes(e._id)?u("request"):u("null"):n.push("/error")})).catch((function(e){console.log("catch",e),n.push("/error")}))}),[t,e._id]),Object(a.useEffect)((function(){fetch("http://localhost:3001/api/posts/user/".concat(t.username),{method:"GET",mode:"cors"}).then((function(e){return e.json()})).then((function(e){_(e)})).catch((function(e){console.log("catch",e),n.push("/error")}))}),[t]);var O=function(e){fetch("http://localhost:3001/api/profile/".concat(e),{method:"GET",mode:"cors"}).then((function(e){return e.json()})).then((function(e){e?(r(L(e)),v(e),console.log(t,"PROFILE")):console.log("error")})).catch((function(e){console.log("catch profile",e),n.push("/error")}))};return window.onscroll=function(){E?window.innerHeight+window.pageYOffset>=document.documentElement.scrollHeight&&E&&f[0]&&fetch("http://localhost:3001/api/posts/more/".concat(t.username,"/").concat(f[f.length-1]._id),{method:"GET",mode:"cors"}).then((function(e){return e.json()})).then((function(e){console.log("posts load func response",e),e?e.hasMore>=10?_([].concat(Object(V.a)(f),Object(V.a)(e.additionalPosts))):e.additionalPosts[0]&&(_([].concat(Object(V.a)(f),Object(V.a)(e.additionalPosts))),C(!1)):(C(!1),console.log("no response"))})).catch((function(e){console.log("catch load func",e),n.push("/error")})):window.removeEventListener("scroll",void 0)},o.a.createElement("div",{id:Re.a.profileContainer},o.a.createElement("div",{id:Re.a.profileInfo},o.a.createElement("img",{id:Re.a.profileImg,src:"data:image/jpeg;base64,"+btoa(String.fromCharCode.apply(String,Object(V.a)(new Uint8Array(t.profilePicture.data.data))))}),o.a.createElement("h1",{id:Re.a.username},t.username),"friends"===l?o.a.createElement("div",{id:Re.a.custom},o.a.createElement("span",{className:Re.a.kText},"You and this user are friends.")):"request"===l?o.a.createElement("div",{id:Re.a.custom},o.a.createElement("span",{className:Re.a.kText},"You have sent this user a friend request.")):e.username!==t.username?o.a.createElement("div",{id:Re.a.custom},o.a.createElement("button",{className:Re.a.btn},"Send Friend Request")):null),o.a.createElement("div",{id:Re.a.container},o.a.createElement("div",{id:Re.a.postContainer},o.a.createElement("h1",{id:Re.a.postsHeading},t.username,"'s ",o.a.createElement("span",{id:Re.a.reg},"posts:")),f[0]?f.map((function(e,t){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:Re.a.pcContainer,key:t},o.a.createElement("div",{className:Re.a.postContainer},o.a.createElement("h1",{className:"".concat(Re.a.space," ").concat(Re.a.postTitle)},e.title),o.a.createElement("div",{className:"".concat(Re.a.pBody," ").concat(Re.a.space)},e.text),o.a.createElement("div",{className:"".concat(Re.a.postUser," ").concat(Re.a.space)},o.a.createElement("img",{onClick:function(e){O(e.target.nextElementSibling.textContent)},id:Re.a.avatar,src:"data:image/jpeg;base64,"+btoa(String.fromCharCode.apply(String,Object(V.a)(new Uint8Array(e.user.avatar.data.data))))}),o.a.createElement("button",{onClick:function(e){return O(e.target.textContent)},className:Re.a.username},e.user.username),o.a.createElement("span",{className:Re.a.timeSpan},"(",z()(e.timestamp).format("L"),")")),o.a.createElement(te,{count:e.likes.length,post:e}))),o.a.createElement(oe,{setPostsToDisplay:_,post:e}),t!==f.length-1||E?null:o.a.createElement("div",{id:Re.a.seenAll},"You've seen them all!"))})):o.a.createElement("div",{id:Re.a.noPosts},"There are no posts to display."))),o.a.createElement("div",{id:Re.a.placeholder}))},He=function(){return o.a.createElement(Y,null,o.a.createElement(Ge,null))},Ae=n(10),Me=n.n(Ae),Je=function(){var e=Object(h.c)(y),t=(Object(h.c)(k),Object(h.b)()),n=Object(d.f)(),r=Object(a.useState)([]),c=Object(i.a)(r,2),s=c[0],l=c[1];Object(a.useEffect)((function(){fetch("http://localhost:3001/api/all-users/".concat(e._id),{method:"GET",mode:"cors"}).then((function(e){return e.json()})).then((function(e){e?(console.log(e),l(e)):(console.log("no response"),n.push("/error"))})).catch((function(e){console.log("catch",e),n.push("/error")}))}),[]);return o.a.createElement("div",{id:Me.a.userContainer},o.a.createElement("button",{id:Me.a.closeModalBtn,onClick:function(){return n.push("/dashboard")}},"x"),o.a.createElement("h3",{id:Me.a.heading},"Users List"),s[0]?s.map((function(a,r){return o.a.createElement("div",{className:Me.a.fr,key:r},o.a.createElement("img",{className:Me.a.avatar,src:"data:image/jpeg;base64,"+btoa(String.fromCharCode.apply(String,Object(V.a)(new Uint8Array(a.avatar.data.data))))}),o.a.createElement("button",{className:Me.a.username,onClick:function(e){var a;a=e.target.textContent,fetch("http://localhost:3001/api/profile/".concat(a),{method:"GET",mode:"cors"}).then((function(e){return e.json()})).then((function(e){e?(t(L(e)),v(e)):n.push("/error")})).catch((function(e){console.log("catch profile",e),n.push("/error")})),n.push("/profile")}},a.username),a.friendRequests.includes(e._id)?o.a.createElement("div",{className:Me.a.btnContainer,"data-index":r},o.a.createElement("span",null,"Friend request pending...")):e.friendRequests.includes(a._id)?o.a.createElement("div",{className:Me.a.btnContainer,"data-index":r},o.a.createElement("button",{id:Me.a.acceptBtn,className:Me.a.btn,onClick:function(a){return function(a){a.preventDefault();var o={request:s[a.target.parentElement.dataset.index].username};fetch("http://localhost:3001/api/friend-request/".concat(e._id,"/accept"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then((function(e){return e.json()})).then((function(e){e?(console.log(e),t(N(e)),C(e)):(console.log("no response"),n.push("/error"))})).catch((function(e){console.log("catch",e),n.push("/error")}))}(a)}},"Accept"),o.a.createElement("button",{id:Me.a.declineBtn,className:Me.a.btn,onClick:function(a){return function(a){a.preventDefault();var o={request:s[a.target.parentElement.dataset.index].username};fetch("http://localhost:3001/api/friend-request/".concat(e._id,"/decline"),{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then((function(e){return e.json()})).then((function(e){e?(console.log(e),t(N(e)),C(e)):(console.log("no response"),n.push("/error"))})).catch((function(e){console.log("catch",e),n.push("/error")}))}(a)}},"Decline")):e.friends.includes(a._id)?o.a.createElement("div",{className:Me.a.btnContainer,"data-index":r},o.a.createElement("button",{className:Me.a.btn,onClick:function(a){return function(a){a.preventDefault();var o=a.target.parentElement.previousElementSibling.textContent;fetch("http://localhost:3001/api/friends/".concat(e._id,"/").concat(o,"/"),{method:"PUT",mode:"cors"}).then((function(e){return e.json()})).then((function(e){e?(console.log(e),t(N(e)),C(e)):(console.log("no response"),n.push("/error"))})).catch((function(e){console.log("catch",e),n.push("/error")}))}(a)}},"Remove Friend")):o.a.createElement("div",{className:Me.a.btnContainer,"data-index":r},o.a.createElement("button",{className:Me.a.btn,onClick:function(t){return function(t){t.preventDefault();var a={username:s[t.target.parentElement.dataset.index].username,currentUser:e._id};fetch("http://localhost:3001/api/friend-request",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){e?console.log(e):(console.log("no response"),n.push("/error"))})).catch((function(e){console.log("catch",e),n.push("/error")}))}(t)}},"Send Friend Request")))})):o.a.createElement("div",{id:Me.a.friendReqForm},"There are currently no other users registered."))},Ye=function(){return o.a.createElement(Y,null,o.a.createElement(Je,null))},Ve=n(22),We=n.n(Ve),Ke=function(){var e=Object(h.c)(y),t=Object(d.f)(),n=Object(a.useContext)($),r=n.postId;n.setPost;return o.a.createElement("form",{id:We.a.commentForm},o.a.createElement("button",{id:We.a.closeModalBtn,onClick:function(){return t.push("/dashboard")}},"x"),o.a.createElement("h3",{id:We.a.heading},"Write Comment"),o.a.createElement("div",{id:We.a.fieldContainer},o.a.createElement("div",{className:We.a.formGroup},o.a.createElement("label",{id:We.a.cBodyLabel},"Comment:"),o.a.createElement("textarea",{id:We.a.postInput,type:"text"}))),o.a.createElement("button",{className:We.a.btn,onClick:function(n){return function(n){n.preventDefault(),console.log(r);var a={postId:r[r.length-1],text:n.target.previousElementSibling.children[0].children[1].value,user:e._id};fetch("http://localhost:3001/api/new-comment",{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){e?(console.log(e,"comment response"),t.push("/dashboard")):(console.log("no response"),t.push("/error"))})).catch((function(e){console.log("catch",e),t.push("/error")}))}(n)}},"Create Comment"))},Qe=function(){return o.a.createElement(Y,null,o.a.createElement(Ke,null))},ze=function(){return o.a.createElement(Y,null,o.a.createElement("h1",null,"NOT FOUND"),o.a.createElement("p",null,"You just hit a route that doesn't exist... the sadness."))};var Xe=function(){return o.a.createElement(I.a,null,o.a.createElement("div",{className:"App"},o.a.createElement(d.c,null,o.a.createElement(d.a,{exact:!0,path:"/",component:be}),o.a.createElement(d.a,{exact:!0,path:"/dashboard",component:ie}),o.a.createElement(d.a,{exact:!0,path:"/signup",component:Oe}),o.a.createElement(d.a,{exact:!0,path:"/fr-send",component:Ue}),o.a.createElement(d.a,{exact:!0,path:"/fr-view",component:Fe}),o.a.createElement(d.a,{exact:!0,path:"/post",component:Te}),o.a.createElement(d.a,{exact:!0,path:"/profile",component:He}),o.a.createElement(d.a,{exact:!0,path:"/user-list",component:Ye}),o.a.createElement(d.a,{exact:!0,path:"/comment",component:Qe}),o.a.createElement(d.a,{exact:!0,path:"/error",component:ze}))))},Ze=n(47),$e=Object(g.b)({name:"fetching",initialState:!1,reducers:{setFetching:function(e,t){return t.payload}}}),et=($e.actions.setFetching,{user:P,profile:x,fetching:$e.reducer}),tt=[].concat(Object(V.a)(Object(g.c)()),[Ze.logger]),nt=Object(g.a)({reducer:et,middleware:tt,devTools:!1});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(h.a,{store:nt},o.a.createElement(ee,null,o.a.createElement(Xe,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[49,1,2]]]);
//# sourceMappingURL=main.8a749ed0.chunk.js.map